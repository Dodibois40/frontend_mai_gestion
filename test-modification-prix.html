<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Modification Prix Achats & Fournitures</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            color: #333;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        .test-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #007bff;
        }
        .test-section h2 {
            color: #007bff;
            margin-bottom: 15px;
            font-size: 1.5em;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #e9ecef;
        }
        .feature-card h3 {
            color: #ff6b35;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        .feature-card p {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .highlight {
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
        .success {
            background: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .warning {
            background: #fff3cd;
            color: #856404;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .test-step {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #2196f3;
        }
        .test-step h4 {
            color: #1976d2;
            margin: 0 0 10px 0;
        }
        .button {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
            transition: background 0.3s;
        }
        .button:hover {
            background: #0056b3;
        }
        .button.success {
            background: #28a745;
        }
        .button.warning {
            background: #ffc107;
            color: #212529;
        }
        .button.danger {
            background: #dc3545;
        }
        .calculation-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
        }
        .arrow {
            font-size: 1.5em;
            color: #28a745;
            margin: 0 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõí Test - Modification Prix Achats & Fournitures</h1>
        
        <div class="test-section">
            <h2>üìã Nouvelles Fonctionnalit√©s Ajout√©es</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üí∞ Budget Total Modifiable</h3>
                    <p>Le budget total allou√© aux achats peut maintenant √™tre modifi√© directement.</p>
                    <div class="success">‚úÖ Termin√© - Champ Input avec validation</div>
                    <div class="code-block">
                        Budget: 24,313‚Ç¨ ‚Üí 30,000‚Ç¨
                        Auto-recalcul de toutes les cat√©gories
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>üîÑ Recalcul Automatique</h3>
                    <p>Modification d'un montant ‚Üí recalcul automatique des pourcentages et vice versa.</p>
                    <div class="success">‚úÖ Termin√© - Logique bidirectionnelle</div>
                    <div class="code-block">
                        Bois: 15,000‚Ç¨ ‚Üí 62% (auto-calcul√©)
                        Quincaillerie: 25% ‚Üí 6,078‚Ç¨ (auto-calcul√©)
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>‚ö†Ô∏è Validation du Budget</h3>
                    <p>Alertes visuelles pour d√©passement, sous-budget, ou √©quilibre parfait.</p>
                    <div class="success">‚úÖ Termin√© - Bandeau color√© avec d√©tails</div>
                    <div class="code-block">
                        üî¥ D√©passement: 25,000‚Ç¨ / 24,313‚Ç¨ (+687‚Ç¨)
                        üîµ Sous-budget: 22,000‚Ç¨ / 24,313‚Ç¨ (-2,313‚Ç¨)
                        üü¢ √âquilibr√©: 24,313‚Ç¨ / 24,313‚Ç¨ (parfait)
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>üé® Couleurs Intelligentes</h3>
                    <p>Les totaux changent de couleur selon la situation budg√©taire.</p>
                    <div class="success">‚úÖ Termin√© - Syst√®me de couleurs dynamique</div>
                    <div class="code-block">
                        Vert: Budget √©quilibr√© ‚úÖ
                        Rouge: D√©passement ‚ö†Ô∏è
                        Bleu: Sous-budget ‚ÑπÔ∏è
                    </div>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üß™ Sc√©narios de Test</h2>
            
            <div class="test-step">
                <h4>1. Modification du Budget Total</h4>
                <p><strong>Test :</strong> Changer le budget de 24,313‚Ç¨ √† 30,000‚Ç¨</p>
                <div class="calculation-example">
                    Avant: Budget 24,313‚Ç¨
                    - Bois: 60% = 14,588‚Ç¨
                    - Quincaillerie: 25% = 6,078‚Ç¨
                    - Autres: 15% = 3,647‚Ç¨
                    
                    <span class="arrow">‚Üí</span>
                    
                    Apr√®s: Budget 30,000‚Ç¨ (modifi√©)
                    - Bois: 60% = 18,000‚Ç¨ (auto-recalcul√©)
                    - Quincaillerie: 25% = 7,500‚Ç¨ (auto-recalcul√©)
                    - Autres: 15% = 4,500‚Ç¨ (auto-recalcul√©)
                </div>
            </div>
            
            <div class="test-step">
                <h4>2. Modification d'un Montant de Cat√©gorie</h4>
                <p><strong>Test :</strong> Modifier le montant du bois de 14,588‚Ç¨ √† 20,000‚Ç¨</p>
                <div class="calculation-example">
                    Avant: Bois 14,588‚Ç¨ (60%)
                    Budget: 24,313‚Ç¨
                    
                    <span class="arrow">‚Üí</span>
                    
                    Apr√®s: Bois 20,000‚Ç¨ (82%) (auto-recalcul√©)
                    Budget: 24,313‚Ç¨ (inchang√©)
                    Total: 28,647‚Ç¨ ‚Üí D√©passement de +4,334‚Ç¨
                </div>
                <div class="error">‚ö†Ô∏è Alerte d√©passement affich√©e</div>
            </div>
            
            <div class="test-step">
                <h4>3. Ajout d'une Nouvelle Cat√©gorie</h4>
                <p><strong>Test :</strong> Ajouter "Peinture" √† 2,000‚Ç¨</p>
                <div class="calculation-example">
                    Nouvelle cat√©gorie: Peinture 2,000‚Ç¨
                    Pourcentage auto-calcul√©: 8% (2,000‚Ç¨ / 24,313‚Ç¨)
                    Couleur: G√©n√©r√©e automatiquement
                </div>
            </div>
            
            <div class="test-step">
                <h4>4. Validation Budget Parfait</h4>
                <p><strong>Test :</strong> Ajuster les montants pour √©galer exactement le budget</p>
                <div class="calculation-example">
                    Budget: 24,313‚Ç¨
                    - Bois: 15,000‚Ç¨ (62%)
                    - Quincaillerie: 6,000‚Ç¨ (25%)
                    - Autres: 3,313‚Ç¨ (13%)
                    Total: 24,313‚Ç¨ = 100% ‚úÖ
                </div>
                <div class="success">üü¢ Budget parfaitement √©quilibr√©</div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üìä Indicateurs Visuels</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üè∑Ô∏è Badges de Statut</h3>
                    <p>Affichage temps r√©el du statut budg√©taire</p>
                    <div class="highlight">24,313‚Ç¨ / 24,313‚Ç¨</div> - Budget √©quilibr√©<br>
                    <div class="highlight">26,000‚Ç¨ / 24,313‚Ç¨</div> - D√©passement<br>
                    <div class="highlight">22,000‚Ç¨ / 24,313‚Ç¨</div> - Sous-budget
                </div>
                
                <div class="feature-card">
                    <h3>üìà Pourcentages Dynamiques</h3>
                    <p>Mise √† jour automatique des pourcentages</p>
                    <div class="highlight">Bois: 15,000‚Ç¨ (62%)</div><br>
                    <div class="highlight">Quincaillerie: 6,000‚Ç¨ (25%)</div><br>
                    <div class="highlight">Autres: 3,313‚Ç¨ (13%)</div>
                </div>
                
                <div class="feature-card">
                    <h3>‚ö° Alertes Instantan√©es</h3>
                    <p>Notifications visuelles en temps r√©el</p>
                    <div class="error">üî¥ D√©passement de budget (+1,687‚Ç¨)</div>
                    <div class="warning">üîµ Sous le budget (-2,313‚Ç¨)</div>
                    <div class="success">üü¢ Budget parfaitement √©quilibr√©</div>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üéØ Instructions de Test</h2>
            <ol>
                <li><strong>Ouvrir l'onglet Estimation</strong> d'une affaire</li>
                <li><strong>Cliquer sur "Modifier"</strong> dans le bloc Achats & Fournitures</li>
                <li><strong>Modifier le budget total</strong> - observer le recalcul automatique</li>
                <li><strong>Changer un montant de cat√©gorie</strong> - voir les pourcentages se mettre √† jour</li>
                <li><strong>Ajouter une nouvelle cat√©gorie</strong> - v√©rifier le calcul automatique</li>
                <li><strong>Cr√©er un d√©passement</strong> - observer l'alerte rouge</li>
                <li><strong>√âquilibrer le budget</strong> - voir l'indicateur vert</li>
                <li><strong>Sauvegarder</strong> - confirmer la persistence des donn√©es</li>
            </ol>
        </div>
        
        <div class="test-section">
            <h2>üîß Am√©liorations Techniques</h2>
            <ul>
                <li><strong>Champs Input num√©riques</strong> avec validation min/max</li>
                <li><strong>Recalcul bidirectionnel</strong> montant ‚Üî pourcentage</li>
                <li><strong>Arrondi intelligent</strong> pour √©viter les d√©cimales</li>
                <li><strong>Couleurs dynamiques</strong> bas√©es sur le statut budg√©taire</li>
                <li><strong>Badges informatifs</strong> avec d√©tails de d√©passement</li>
                <li><strong>Validation en temps r√©el</strong> avec feedback visuel</li>
                <li><strong>Persistance des donn√©es</strong> avec sauvegarde compl√®te</li>
            </ul>
        </div>
        
        <div class="test-section">
            <h2>‚úÖ R√©sultat Attendu</h2>
            <div class="success">
                <h3>üéâ Fonctionnalit√© Compl√®te</h3>
                <p>L'utilisateur peut maintenant modifier librement :</p>
                <ul>
                    <li>‚úÖ Le budget total allou√© aux achats</li>
                    <li>‚úÖ Les montants de chaque cat√©gorie</li>
                    <li>‚úÖ Les noms des cat√©gories</li>
                    <li>‚úÖ Ajouter/supprimer des cat√©gories</li>
                </ul>
                <p>Avec recalcul automatique des pourcentages et validation du budget en temps r√©el.</p>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
            <a href="http://localhost:8080" class="button success">üöÄ Tester dans l'Application</a>
            <a href="javascript:history.back()" class="button">‚Üê Retour</a>
        </div>
    </div>
</body>
</html> 